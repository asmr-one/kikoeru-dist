(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"1e24":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-form",{on:{submit:t.onSubmit}},[a("q-card",{staticClass:"q-ma-md"},[a("q-toolbar",[a("q-toolbar-title",[t._v("播放器设置")])],1),a("q-list",[a("q-item",{staticStyle:{height:"70px"}},[a("q-item-section",[a("q-item-label",[t._v("后退按钮跳跃秒数")]),a("q-item-label",{attrs:{caption:""}},[t._v("播放时后退按钮跳跃秒数")])],1),a("q-item-section",{attrs:{avatar:""}},[a("div",{staticClass:"q-gutter-sm"},[a("q-radio",{attrs:{dense:"",val:"5",label:"5 秒"},model:{value:t.rewindSeekTime,callback:function(e){t.rewindSeekTime=e},expression:"rewindSeekTime"}}),a("q-radio",{attrs:{dense:"",val:"10",label:"10 秒"},model:{value:t.rewindSeekTime,callback:function(e){t.rewindSeekTime=e},expression:"rewindSeekTime"}}),a("q-radio",{attrs:{dense:"",val:"30",label:"30 秒"},model:{value:t.rewindSeekTime,callback:function(e){t.rewindSeekTime=e},expression:"rewindSeekTime"}})],1)])],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("前进按钮跳跃秒数")]),a("q-item-label",{attrs:{caption:""}},[t._v("播放时前进按钮跳跃秒数")])],1),a("q-item-section",{attrs:{avatar:""}},[a("div",{staticClass:"q-gutter-sm"},[a("q-radio",{attrs:{dense:"",val:"5",label:"5 秒"},model:{value:t.forwardSeekTime,callback:function(e){t.forwardSeekTime=e},expression:"forwardSeekTime"}}),a("q-radio",{attrs:{dense:"",val:"10",label:"10 秒"},model:{value:t.forwardSeekTime,callback:function(e){t.forwardSeekTime=e},expression:"forwardSeekTime"}}),a("q-radio",{attrs:{dense:"",val:"30",label:"30 秒"},model:{value:t.forwardSeekTime,callback:function(e){t.forwardSeekTime=e},expression:"forwardSeekTime"}})],1)])],1)],1)],1),a("q-card",{staticClass:"q-ma-md"},[a("q-toolbar",[a("q-toolbar-title",[t._v("爬虫相关设置")])],1),a("q-list",[a("q-item",{staticStyle:{height:"70px"}},[a("q-item-section",[a("q-item-label",[t._v("标签语言")]),a("q-item-label",{attrs:{caption:""}},[t._v("从 DLSite 爬取的标签元数据的语言")])],1),a("q-item-section",{attrs:{avatar:""}},[a("div",{staticClass:"q-gutter-sm"},[a("q-radio",{attrs:{dense:"",val:"zh-cn",label:"简"},model:{value:t.config.tagLanguage,callback:function(e){t.$set(t.config,"tagLanguage",e)},expression:"config.tagLanguage"}}),a("q-radio",{attrs:{dense:"",val:"zh-tw",label:"繁"},model:{value:t.config.tagLanguage,callback:function(e){t.$set(t.config,"tagLanguage",e)},expression:"config.tagLanguage"}}),a("q-radio",{attrs:{dense:"",val:"ja-jp",label:"日"},model:{value:t.config.tagLanguage,callback:function(e){t.$set(t.config,"tagLanguage",e)},expression:"config.tagLanguage"}})],1)])],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("DLsite 超时时间")]),a("q-item-label",{attrs:{caption:""}},[t._v("默认 10000 毫秒")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{type:"number","input-class":"text-right"},model:{value:t.config.dlsiteTimeout,callback:function(e){t.$set(t.config,"dlsiteTimeout",t._n(e))},expression:"config.dlsiteTimeout"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("HVDB 超时时间")]),a("q-item-label",{attrs:{caption:""}},[t._v("默认 10000 毫秒")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{type:"number","input-class":"text-right"},model:{value:t.config.hvdbTimeout,callback:function(e){t.$set(t.config,"hvdbTimeout",t._n(e))},expression:"config.hvdbTimeout"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("重新请求间隔时间")]),a("q-item-label",{attrs:{caption:""}},[t._v("默认 2000 毫秒")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{type:"number","input-class":"text-right"},model:{value:t.config.retryDelay,callback:function(e){t.$set(t.config,"retryDelay",t._n(e))},expression:"config.retryDelay"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("请求最大尝试次数")]),a("q-item-label",{attrs:{caption:""}},[t._v("默认 5")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{type:"number","input-class":"text-right"},model:{value:t.config.retry,callback:function(e){t.$set(t.config,"retry",t._n(e))},expression:"config.retry"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("爬虫并行任务数量")]),a("q-item-label",{attrs:{caption:""}},[t._v("默认 16")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{type:"number","input-class":"text-right"},model:{value:t.config.maxParallelism,callback:function(e){t.$set(t.config,"maxParallelism",t._n(e))},expression:"config.maxParallelism"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("HTTP 代理服务主机 IP")]),a("q-item-label",{attrs:{caption:""}},[t._v("此项为空时默认为本机")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{"input-class":"text-right"},model:{value:t.config.httpProxyHost,callback:function(e){t.$set(t.config,"httpProxyHost",e)},expression:"config.httpProxyHost"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("HTTP 代理服务端口号 ")]),a("q-item-label",{attrs:{caption:""}},[t._v("此项为 0 时默认不使用代理")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{type:"number","input-class":"text-right"},model:{value:t.config.httpProxyPort,callback:function(e){t.$set(t.config,"httpProxyPort",t._n(e))},expression:"config.httpProxyPort"}})],1)],1)],1)],1),a("q-card",{staticClass:"q-ma-md"},[a("q-toolbar",[a("q-toolbar-title",[t._v("文件夹扫描相关设置")])],1),a("q-list",[a("q-item",{staticStyle:{height:"70px"}},[a("q-item-section",[a("q-item-label",[t._v("最大递归扫描深度")]),a("q-item-label",{attrs:{caption:""}},[t._v("默认 2")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{type:"number","input-class":"text-right"},model:{value:t.config.scannerMaxRecursionDepth,callback:function(e){t.$set(t.config,"scannerMaxRecursionDepth",t._n(e))},expression:"config.scannerMaxRecursionDepth"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("扫描时跳过清理音声库")]),a("q-item-label",{attrs:{caption:""}},[t._v("是否跳过清理不存在的音声（不推荐，默认不跳过）")])],1),a("q-item-section",{attrs:{side:""}},[a("q-toggle",{attrs:{dense:""},model:{value:t.config.skipCleanup,callback:function(e){t.$set(t.config,"skipCleanup",e)},expression:"config.skipCleanup"}})],1)],1)],1)],1),a("q-card",{staticClass:"q-ma-md"},[a("q-toolbar",[a("q-toolbar-title",[t._v("Web 服务器相关设置")]),a("div",{staticClass:"q-pr-xs"},[t._v("更改此设置需要重启程序")])],1),a("q-list",[a("q-item",{staticStyle:{height:"70px"}},[a("q-item-section",[a("q-item-label",[t._v("用户验证")]),a("q-item-label",{attrs:{caption:""}},[t._v("是否启用用户验证（生产环境下无法修改此设置）")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-toggle",{attrs:{dense:"",disable:t.config.production},model:{value:t.config.auth,callback:function(e){t.$set(t.config,"auth",e)},expression:"config.auth"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("启用Gzip")]),a("q-item-label",{attrs:{caption:""}},[t._v("对网络传输启用Gzip压缩")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-toggle",{attrs:{dense:""},model:{value:t.config.enableGzip,callback:function(e){t.$set(t.config,"enableGzip",e)},expression:"config.enableGzip"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("设置端口号")]),a("q-item-label",{attrs:{caption:""}},[t._v("服务器监听端口号")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{type:"number","input-class":"text-right"},model:{value:t.config.listenPort,callback:function(e){t.$set(t.config,"listenPort",t._n(e))},expression:"config.listenPort"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("屏蔽远程连接")]),a("q-item-label",{attrs:{caption:""}},[t._v("只允许本地访问，默认为false。更改此设置需要重启程序")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-toggle",{attrs:{dense:""},model:{value:t.config.blockRemoteConnection,callback:function(e){t.$set(t.config,"blockRemoteConnection",e)},expression:"config.blockRemoteConnection"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("token 过期时间")]),a("q-item-label",{attrs:{caption:""}},[t._v("默认 2592000 秒")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{type:"number","input-class":"text-right"},model:{value:t.config.expiresIn,callback:function(e){t.$set(t.config,"expiresIn",t._n(e))},expression:"config.expiresIn"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("每页显示的音声数量")]),a("q-item-label",{attrs:{caption:""}},[t._v("默认 12")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-input",{staticStyle:{"max-width":"100px"},attrs:{type:"number","input-class":"text-right"},model:{value:t.config.pageSize,callback:function(e){t.$set(t.config,"pageSize",t._n(e))},expression:"config.pageSize"}})],1)],1)],1)],1),a("q-card",{staticClass:"q-ma-md"},[a("q-toolbar",[a("q-toolbar-title",[t._v("其它设置")])],1),a("q-list",[a("q-item",{staticStyle:{height:"70px"}},[a("q-item-section",[a("q-item-label",[t._v("检查更新")]),a("q-item-label",{attrs:{caption:""}},[t._v("打开网页时是否检查更新")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-toggle",{attrs:{dense:""},model:{value:t.config.checkUpdate,callback:function(e){t.$set(t.config,"checkUpdate",e)},expression:"config.checkUpdate"}})],1)],1),t.config.checkUpdate?a("q-item",[a("q-item-section",[a("q-item-label",[t._v("检查测试版更新")]),a("q-item-label",{attrs:{caption:""}},[t._v("是否检查测试版更新")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-toggle",{attrs:{dense:""},model:{value:t.config.checkBetaUpdate,callback:function(e){t.$set(t.config,"checkBetaUpdate",e)},expression:"config.checkBetaUpdate"}})],1)],1):t._e(),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("数据库使用默认路径")]),a("q-item-label",{attrs:{caption:""}},[t._v("使用程序所在位置下的sqlite文件夹，并忽略databaseFolderDir设置（如无必要请勿修改，更改此设置需要重启程序）")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-toggle",{attrs:{dense:""},model:{value:t.config.dbUseDefaultPath,callback:function(e){t.$set(t.config,"dbUseDefaultPath",e)},expression:"config.dbUseDefaultPath"}})],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",[t._v("封面使用默认路径")]),a("q-item-label",{attrs:{caption:""}},[t._v("使用程序所在位置下的covers文件夹，并忽略封面文件夹路径设置")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-toggle",{attrs:{dense:""},model:{value:t.config.coverUseDefaultPath,callback:function(e){t.$set(t.config,"coverUseDefaultPath",e)},expression:"config.coverUseDefaultPath"}})],1)],1)],1)],1),a("div",{staticClass:"q-ma-lg row justify-end"},[a("q-btn",{attrs:{loading:t.loading,label:"保存",type:"submit",color:"primary"}})],1)],1)},s=[],n=a("2d97"),o={name:"Advanced",mixins:[n["a"]],data(){return{config:{},loading:!1,rewindSeekTime:"5",forwardSeekTime:"30"}},methods:{requestConfig(){this.$axios.get("/api/config/admin").then(t=>{this.config=t.data.config,this.rewindSeekTime=this.config.rewindSeekTime.toString(),this.forwardSeekTime=this.config.forwardSeekTime.toString()}).catch(t=>{t.response?401!==t.response.status&&this.showErrNotif(t.response.data.error||`${t.response.status} ${t.response.statusText}`):this.showErrNotif(t.message||t)})},onSubmit(){this.config.rewindSeekTime=parseInt(this.rewindSeekTime),this.config.forwardSeekTime=parseInt(this.forwardSeekTime),this.loading=!0,this.$axios.put("/api/config/admin",{config:this.config}).then(t=>{this.loading=!1,this.showSuccNotif(t.data.message)}).catch(t=>{this.loading=!1,t.response?this.showErrNotif(t.response.data.error||`${t.response.status} ${t.response.statusText}`):this.showErrNotif(t.message||t)})}},created(){this.requestConfig()}},l=o,c=a("2877"),r=a("0378"),m=a("f09f"),q=a("65c6"),g=a("6ac5"),p=a("1c1c"),d=a("66e5"),u=a("4074"),f=a("0170"),b=a("3786"),v=a("27f9"),h=a("9564"),x=a("9c40"),k=a("eebe"),_=a.n(k),S=Object(c["a"])(l,i,s,!1,null,null,null);e["default"]=S.exports;_()(S,"components",{QForm:r["a"],QCard:m["a"],QToolbar:q["a"],QToolbarTitle:g["a"],QList:p["a"],QItem:d["a"],QItemSection:u["a"],QItemLabel:f["a"],QRadio:b["a"],QInput:v["a"],QToggle:h["a"],QBtn:x["a"]})}}]);